<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="base/base">

<head>
<title>Extensão - Alunos</title>
</head>

<div class="container-fluid" layout:fragment="conteudo">
	<br />
	<div class="row">
		<div class="col-sm-12">
			<div class="white-box">
				<div sec:authorize="hasAuthority('ADMINISTRACAO')"
					class="text-right">
					<a th:href="@{alunos/atualizar}" class="btn btn-primary">Atualizar</a>
				</div>
				<h3 class="box-title m-b-0">Alunos</h3>
				<p class="text-muted m-b-30">Lista de todos os alunos do campus</p>
				<div class="table-responsive">
					<table id="alunos" class="table table-hover">
						<thead>
							<tr>
								<th>Nome</th>
								<th>Matrícula</th>
								<th>Curso</th>
								<th>Email</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="aluno : ${alunos}">
								<td><a th:href="@{/alunos/__${aluno.id}__}"
									th:text="${aluno.pessoa.nome}"></a></td>
								<td th:text="${aluno.matricula}"></td>
								<td th:text="${aluno.curso}"></td>
								<td th:text="${aluno.pessoa.email}"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!--  <div id="footer-margin" class="margin-footer"></div>-->
</div>
<section layout:fragment="js">
	<script>
		$('#menu-alunos a').addClass("active");
		$('#alunos')
				.dataTable(
						{
							language : {
								"url" : "//cdn.datatables.net/plug-ins/1.10.13/i18n/Portuguese-Brasil.json"
							},
							order : [ [ 0, "asc" ] ]
						});
		
		/*$("#alunos").bind("DOMSubtreeModified", function() {
			$('#alunos').find("tr").each(function() {
				
				//Pega o tamanho da lista dos filhos
				var linhas = ($(this).children()).children().length;

				if(linhas > 0) {
					$('#footer-margin').removeClass("margin-footer");
				} else {
					$('#footer-margin').addClass("margin-footer");
				}
			});
		});*/
	</script>
</section>
</html>
