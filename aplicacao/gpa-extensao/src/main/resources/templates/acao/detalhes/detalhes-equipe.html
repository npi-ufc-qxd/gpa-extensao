<div class="white-box" th:fragment="equipe">
	<h3 class="box-title m-b-0">Equipe de trabalho</h3>
	<table id="equipe" class="table table-hover">
		<thead>
			<tr>
				<th>Nome</th>
				<th>CPF</th>
				<th>Função</th>
				<th>Instituição</th>
				<th>CH</th>
				<th>Período</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="membro: ${acao.equipeDeTrabalho}">
				<td th:text="${membro.participante()}"></td>
				<td th:text="${membro.cpfParticipante}"></td>
				<td th:text="${membro.funcao()}"></td>
				<td th:text="${membro.instituicao()}"></td>
				<td th:text="__${membro.cargaHoraria}__h"></td>
				<td
					th:text="${#dates.format(membro.dataInicio, 'dd/MM/yyyy')} + ' a ' + ${#dates.format(membro.dataTermino, 'dd/MM/yyyy')}"></td>
			</tr>
			<tr th:each="bolsa: ${acao.bolsistas}">
				<td th:text="${bolsa.bolsista.pessoa.nome}"></td>
				<td th:text="${bolsa.bolsista.pessoa.cpf}"></td>
				<td
					th:text="${bolsa.tipo.name() == 'REMUNERADO'} ? 'Bolsista Remunerado' : 'Aluno(a) Voluntário(a)'"></td>
				<td>Universidade Federal do Ceará</td>
				<td th:text="__${bolsa.cargaHoraria}__h"></td>
				<td
					th:text="${#dates.format(bolsa.inicio, 'dd/MM/yyyy')} + ' a ' + ${#dates.format(bolsa.termino, 'dd/MM/yyyy')}"></td>
			</tr>
		</tbody>
	</table>
	<div class="text-right">
		<a
			th:if="${acao.status.name() == 'NOVO' AND acao.coordenador.cpf == #authentication.name}"
			class="btn btn-primary waves-effect waves-light m-t-10"
			data-toggle="modal" data-target="#opcao-modal">Novo Participante</a>
	</div>
	<div id="opcao-modal" class="modal fade" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true"
		style="display: none;">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">×</button>
					<h4 class="modal-title">Adicionar Novo Participante</h4>
				</div>
				<div class="modal-body">
					<button class="btn btn-block btn-primary" data-toggle="modal"
						data-target="#bolsista-modal" data-dismiss="modal">Bolsista</button>

					<button class="btn btn-block btn-primary" data-toggle="modal"
						data-target="#participacao-modal" data-dismiss="modal">Participação</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
		aria-labelledby="myLargeModalLabel" aria-hidden="true"
		style="display: none;" id="participacao-modal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">×</button>
					<h4 class="modal-title" id="myLargeModalLabel">Informações do
						Participante</h4>
				</div>
				<div class="modal-body">

					<div class="panel panel-info">
						<div class="panel-wrapper collapse in" aria-expanded="true">
							<div class="panel-body">
								<form
									th:action="@{/participacao/adicionar-participacao/{acao}(acao=${acao.id})}"
									th:object="${participacao}" method="POST">
									<div class="form-body">
										<div class="row">
											<div class="col-md-6">
												<div class="form-group">
													<label class="control-label">* Função</label> <select
														id="funcao" class="form-control" th:field="*{funcao}">
														<option th:each="f : ${funcoes}" th:text="${f.descricao}"
															th:value="${f}"></option>
													</select> <span class="help-block"> Selecione a função do
														participante </span> <label>* Nome</label> <input
														id="nomeParticipante"
														th:field="${participacao.nomeParticipante}"
														class="form-control" type="text" required="required"
														disabled="disabled" /> <label>* CPF</label> <input
														id="cpfParticipante" th:field="*{cpfParticipante}"
														class="form-control" type="text" required="required"
														disabled="disabled" /> <label>* Descrição da
														Função</label> <input id="descricaoFuncao"
														th:field="*{descricaoFuncao}" class="form-control"
														type="text" required="required" disabled="disabled" />
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="control-label">* Instituição</label> <select
														id="instituicao" class="form-control"
														th:field="*{instituicao}">
														<option th:each="i : ${instituicoes}"
															th:text="${i.descricao}" th:value="${i}"></option>
													</select> <span class="help-block"> Selecione a instituição </span>
													<label>Nome Instituição</label> <input id="nomeInstituicao"
														th:field="*{nomeInstituicao}" class="form-control"
														type="text" required="required" disabled="disabled" />
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-6">
												<div class="form-group">

													<label for="cargaHoraria">* Carga Horária Semanal</label> <input
														id="cargaHoraria" type="number" name="cargaHoraria"
														class="form-control" required="required" min="4" max="16"
														th:field="*{cargaHoraria}" />
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="control-label" for="funcao">*
														Servidor</label> <select class="form-control"
														data-placeholder="Selecione uma função" tabindex="1"
														id="participanteServidor" th:field="*{participante}">
														<option th:each="s : ${servidores}" id="servidor"
															th:text="${s.pessoa.nome}" th:value="${s.pessoa.id}"></option>
													</select> <span class="help-block">Selecione um servidor </span>
												</div>
											</div>
										</div>
										<div class="form-actions">
											<button type="submit" class="btn btn-success">
												<i class="fa fa-check"></i> Adicionar
											</button>
											<button type="button" class="btn btn-default"
												onClick="window.location.reload();">Fechar</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<div id="bolsista-modal" class="modal fade" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true"
		style="display: none;">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close"
						onClick="window.location.reload();" aria-hidden="true">×</button>
					<h4 class="modal-title">Adicionar Novo Bolsista</h4>
				</div>
				<div class="modal-body">


					<div class="panel panel-info">
						<div class="panel-wrapper collapse in" aria-expanded="true">
							<div class="panel-body">
								<form
									th:action="@{/bolsa/cadastrar/{idAcao}(idAcao=${acao.id})}"
									th:object="${bolsa}" method="POST">
									<div class="form-body">
										<div class="row">
											<div class="col-md-6">
												<div class="form-group">
													<label class="control-label">* Tipo Bolsa</label> <select
														id="tipo" class="form-control" th:field="${bolsa.tipo}">
														<option th:each="t : ${tipoBolsa}"
															th:text="${t.descricao}" th:value="${t}"></option>
													</select>
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="control-label">* Aluno</label> <select
														id="bolsista" class="form-control"
														th:field="${bolsa.bolsista}">
														<option th:each="b : ${alunos}" th:text="${b.pessoa.nome}"
															th:value="${b.pessoa.id}"></option>
													</select> <span class="help-block"> Selecione o aluno </span>

												</div>
											</div>
										</div>
										<div class="form-actions">
											<button type="submit" class="btn btn-success">
												<i class="fa fa-check"></i> Adicionar
											</button>
											<button type="button" class="btn btn-default"
												onClick="window.location.reload();">Fechar</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
</div>


